@{
    Layout = "~/Views/Shared/_MainLayout.cshtml";
}

<!-- 查詢訊息匣資料 -->
<div id="Info" class="py-4 px-5">
    <nav style="--bs-breadcrumb-divider: '>';" aria-label="breadcrumb">
        <ol class="breadcrumb fs-6">
            <li class="breadcrumb-item">
                <a id="homePage" class="hnb__path" href="Home.html">首頁</a>
            </li>
            <li class="breadcrumb-item active" aria-current="page">訊息匣</li>
        </ol>
    </nav>
    <h1 class="fs-4 fw-bolder">訊息匣列表</h1>
    <div class="d-flex justify-content-between">
        <ul class="nav nav-tabs" id="myTab" role="tablist">
            <li class="nav-item" role="presentation">
                <button class="nav-link hnb__tab active" id="info01-tab" data-bs-toggle="tab" data-bs-target="#info01"
                        type="button" role="tab" aria-controls="info01" aria-selected="true">
                    開狀
                    <span class="ms-1 badge bg-light hnb__text--red">
                        2
                    </span>
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link hnb__tab" id="info02-tab" data-bs-toggle="tab" data-bs-target="#info02" type="button"
                        role="tab" aria-controls="info02" aria-selected="false">
                    修狀
                    <span class="ms-1 badge bg-light hnb__text--red">
                        3
                    </span>
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link hnb__tab" id="info03-tab" data-bs-toggle="tab" data-bs-target="#info03" type="button"
                        role="tab" aria-controls="info03" aria-selected="false">
                    註銷
                    <span class="ms-1 badge bg-light hnb__text--red">
                        3
                    </span>
                </button>
            </li>
            <li class="nav-item" role="presentation">
                <button class="nav-link hnb__tab" id="info04-tab" data-bs-toggle="tab" data-bs-target="#info04" type="button"
                        role="tab" aria-controls="info04" aria-selected="false">
                    押匯
                    <span class="ms-1 badge bg-light hnb__text--red">
                        2
                    </span>
                </button>
            </li>
        </ul>
    </div>
    <div class="tab-content" id="myTabContent">
        <div class="tab-pane fade show active" id="info01" role="tabpanel" aria-labelledby="info01-tab">
            <div class="card rounded-0 rounded-bottom">
                <div class="card-body bg-light">
                    <div class="mb-2 align-items-center d-flex justify-content-between">
                        <h5 class="mb-0 py-1 fs-6 fw-bolder hnb__title">
                            開狀作業
                        </h5>
                    </div>
                    <div class="table-responsive">
                        <table class="table table-striped table-sm hnb__table hnb__bg--white">
                            <thead>
                                <tr>
                                    <th scope="col" class="hnb__tbhd" style="width: 80px">
                                        <button type="button"
                                                class="editItem my-1 px-3 btn btn-sm hnb__btn--select shadow-sm text-nowrap">
                                            刪除
                                        </button>
                                        <div>
                                            <input class="form-check-input" type="checkbox" value="" id="checkAll">
                                        </div>
                                    </th>
                                    <th scope="col" class="hnb__tbhd w-25">主旨</th>
                                    <th scope="col" class="hnb__tbhd">訊息內容</th>
                                    <th scope="col" class="hnb__tbhd w-15">訊息時間</th>
                                    <th scope="col" class="hnb__tbhd w-15">
                                        <div class="mb-1">已讀</div>
                                        <button type="button"
                                                class="editItem my-1 px-3 btn btn-sm hnb__btn--select shadow-sm text-nowrap">
                                            全部已讀
                                        </button>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="text-center">
                                        <input class="form-check-input" type="checkbox" value="" id="check01">
                                    </td>
                                    <td>開狀通知</td>
                                    <td>114年2月7日客戶多樂股份有限公司完成開立國內信用狀1筆(LC_TEST_2025020701)</td>
                                    <td class="text-center">2025/02/07</td>
                                    <td class="text-center">
                                        <button type="button" class="infoBtn px-3 btn btn-sm hnb__btn--default text-nowrap">讀取</button>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="text-center">
                                        <input class="form-check-input" type="checkbox" value="" id="check01">
                                    </td>
                                    <td>開狀申請審核通知</td>
                                    <td>受益人中國鋼鐵股份有限公司於民國113年11月5日已被核准押匯申請1筆(信用狀號碼：CDSD113000164，匯票號碼：TA24110503)</td>
                                    <td class="text-center">2024/11/05</td>
                                    <td class="text-center">
                                        <button type="button"
                                                class="infoBtn px-3 btn btn-sm hnb__btn--cancel text-nowrap disabled">
                                            已讀
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <nav class="d-flex align-items-center justify-content-between">
                            <div class="d-flex text-nowrap">
                                <ul class="mb-0 pagination pagination-sm">
                                    <li class="page--item hnb__page--item disabled">
                                        <a class="page-link">第一頁</a>
                                    </li>
                                    <li class="page--item hnb__page--item disabled">
                                        <a class="page-link">
                                            <span class="mdi mdi-chevron-left"></span>
                                        </a>
                                    </li>
                                    <li class="page--item hnb__page--item active"><a class="page-link" href="#">1</a></li>
                                    <li class="page--item hnb__page--item"><a class="page-link" href="#">2</a></li>
                                    <li class="page--item hnb__page--item"><a class="page-link" href="#">3</a></li>
                                    <li class="page--item hnb__page--item"><a class="page-link" href="#">4</a></li>
                                    <li class="page--item hnb__page--item"><a class="page-link" href="#">5</a></li>
                                    <li class="page--item hnb__page--item">
                                        <a class="page-link" href="#">
                                            <span class="mdi mdi-chevron-right"></span>
                                        </a>
                                    </li>
                                    <li class="page--item hnb__page--item">
                                        <a class="page-link" href="#">最後一頁</a>
                                    </li>
                                </ul>
                                <div class="input-group input-group-sm ms-2 text-nowrap page-width">
                                    <span class="input-group-text" id="inputGroup-sizing-sm">第</span>
                                    <input type="text" class="form-control" value="">
                                    <span class="input-group-text" id="inputGroup-sizing-sm">頁</span>
                                    <button class="btn hnb__btn--default" type="button" id="button-addon2">前往</button>
                                </div>
                            </div>
                            <div>
                                <span class="hnb__text--red">總筆數：</span>100 / <span class="hnb__text--red">總頁數：</span>20
                            </div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
        <div class="tab-pane fade" id="info02" role="tabpanel" aria-labelledby="info02-tab">
            <div class="card rounded-0 rounded-bottom">
                <div class="card-body bg-light">
                    <div class="mb-2 align-items-center d-flex justify-content-between">
                        <h5 class="mb-0 py-1 fs-6 fw-bolder hnb__title">
                            修狀作業
                        </h5>
                        <div>
                            <span class="hnb__text--red">注意：</span>本作業須辦理 <a href="#" class="hnb__link--tab"
                                                                             onclick="processHandler('App', 'AmendAccept')">修改信用狀接受註記</a>
                        </div>
                    </div>
                    <div class="table-responsive">
                        <table class="table table-striped table-sm hnb__table hnb__bg--white">
                            <thead>
                                <tr>
                                    <th scope="col" class="hnb__tbhd" style="width: 80px">
                                        <button type="button"
                                                class="editItem my-1 px-3 btn btn-sm hnb__btn--select shadow-sm text-nowrap">
                                            刪除
                                        </button>
                                        <div>
                                            <input class="form-check-input" type="checkbox" value="" id="checkAll">
                                        </div>
                                    </th>
                                    <th scope="col" class="hnb__tbhd w-25">主旨</th>
                                    <th scope="col" class="hnb__tbhd">訊息內容</th>
                                    <th scope="col" class="hnb__tbhd w-15">訊息時間</th>
                                    <th scope="col" class="hnb__tbhd w-15">
                                        <div class="mb-1">已讀</div>
                                        <button type="button"
                                                class="editItem my-1 px-3 btn btn-sm hnb__btn--select shadow-sm text-nowrap">
                                            全部已讀
                                        </button>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="text-center">
                                        <input class="form-check-input" type="checkbox" value="" id="check011">
                                    </td>
                                    <td>修狀通知</td>
                                    <td>114年2月7日客戶多樂股份有限公司完成開立國內信用狀1筆(LC_TEST_2025020701)</td>
                                    <td class="text-center">2025/02/07</td>
                                    <td class="text-center">
                                        <button type="button" class="infoBtn px-3 btn btn-sm hnb__btn--default text-nowrap">讀取</button>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="text-center">
                                        <input class="form-check-input" type="checkbox" value="" id="check012">
                                    </td>
                                    <td>修狀審核通知</td>
                                    <td>114年2月7日客戶多樂股份有限公司提出國內信用狀開狀申請1筆(CDSD114000011)</td>
                                    <td class="text-center">2025/02/07</td>
                                    <td class="text-center">
                                        <button type="button" class="infoBtn px-3 btn btn-sm hnb__btn--default text-nowrap">讀取</button>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="text-center">
                                        <input class="form-check-input" type="checkbox" value="" id="check013">
                                    </td>
                                    <td>修狀通知</td>
                                    <td>受益人中國鋼鐵股份有限公司於民國113年11月5日已被核准押匯申請1筆(信用狀號碼：CDSD113000164，匯票號碼：TA24110503)</td>
                                    <td class="text-center">2024/11/05</td>
                                    <td class="text-center">
                                        <button type="button"
                                                class="infoBtn px-3 btn btn-sm hnb__btn--cancel text-nowrap disabled">
                                            已讀
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <nav class="d-flex align-items-center justify-content-between">
                            <div class="d-flex text-nowrap">
                                <ul class="mb-0 pagination pagination-sm">
                                    <li class="page--item hnb__page--item disabled">
                                        <a class="page-link">第一頁</a>
                                    </li>
                                    <li class="page--item hnb__page--item disabled">
                                        <a class="page-link">
                                            <span class="mdi mdi-chevron-left"></span>
                                        </a>
                                    </li>
                                    <li class="page--item hnb__page--item active"><a class="page-link" href="#">1</a></li>
                                    <li class="page--item hnb__page--item"><a class="page-link" href="#">2</a></li>
                                    <li class="page--item hnb__page--item"><a class="page-link" href="#">3</a></li>
                                    <li class="page--item hnb__page--item"><a class="page-link" href="#">4</a></li>
                                    <li class="page--item hnb__page--item"><a class="page-link" href="#">5</a></li>
                                    <li class="page--item hnb__page--item">
                                        <a class="page-link" href="#">
                                            <span class="mdi mdi-chevron-right"></span>
                                        </a>
                                    </li>
                                    <li class="page--item hnb__page--item">
                                        <a class="page-link" href="#">最後一頁</a>
                                    </li>
                                </ul>
                                <div class="input-group input-group-sm ms-2 text-nowrap page-width">
                                    <span class="input-group-text" id="inputGroup-sizing-sm">第</span>
                                    <input type="text" class="form-control" value="">
                                    <span class="input-group-text" id="inputGroup-sizing-sm">頁</span>
                                    <button class="btn hnb__btn--default" type="button" id="button-addon2">前往</button>
                                </div>
                            </div>
                            <div>
                                <span class="hnb__text--red">總筆數：</span>100 / <span class="hnb__text--red">總頁數：</span>20
                            </div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
        <div class="tab-pane fade" id="info03" role="tabpanel" aria-labelledby="info03-tab">
            <div class="card rounded-0 rounded-bottom">
                <div class="card-body bg-light">
                    <div class="mb-2 align-items-center d-flex justify-content-between">
                        <h5 class="mb-0 py-1 fs-6 fw-bolder hnb__title">
                            註銷作業
                        </h5>
                    </div>
                    <div class="table-responsive">
                        <table class="table table-striped table-sm hnb__table hnb__bg--white">
                            <thead>
                                <tr>
                                    <th scope="col" class="hnb__tbhd" style="width: 80px">
                                        <button type="button"
                                                class="editItem my-1 px-3 btn btn-sm hnb__btn--select shadow-sm text-nowrap">
                                            刪除
                                        </button>
                                        <div>
                                            <input class="form-check-input" type="checkbox" value="" id="checkAll">
                                        </div>
                                    </th>
                                    <th scope="col" class="hnb__tbhd w-25">主旨</th>
                                    <th scope="col" class="hnb__tbhd">訊息內容</th>
                                    <th scope="col" class="hnb__tbhd w-15">訊息時間</th>
                                    <th scope="col" class="hnb__tbhd w-15">
                                        <div class="mb-1">已讀</div>
                                        <button type="button"
                                                class="editItem my-1 px-3 btn btn-sm hnb__btn--select shadow-sm text-nowrap">
                                            全部已讀
                                        </button>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="text-center">
                                        <input class="form-check-input" type="checkbox" value="" id="check021">
                                    </td>
                                    <td>註銷申請審核通知</td>
                                    <td>114年2月7日客戶多樂股份有限公司完成開立國內信用狀1筆(LC_TEST_2025020701)</td>
                                    <td class="text-center">2025/02/07</td>
                                    <td class="text-center">
                                        <button type="button" class="infoBtn px-3 btn btn-sm hnb__btn--default text-nowrap">讀取</button>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="text-center">
                                        <input class="form-check-input" type="checkbox" value="" id="check022">
                                    </td>
                                    <td>註銷申請審核通知</td>
                                    <td>114年2月7日客戶多樂股份有限公司提出國內信用狀開狀申請1筆(CDSD114000011)</td>
                                    <td class="text-center">2025/02/07</td>
                                    <td class="text-center">
                                        <button type="button" class="infoBtn px-3 btn btn-sm hnb__btn--default text-nowrap">讀取</button>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="text-center">
                                        <input class="form-check-input" type="checkbox" value="" id="check023">
                                    </td>
                                    <td>註銷申請審核通知</td>
                                    <td>受益人中國鋼鐵股份有限公司於民國113年11月5日已被核准押匯申請1筆(信用狀號碼：CDSD113000164，匯票號碼：TA24110503)</td>
                                    <td class="text-center">2024/11/05</td>
                                    <td class="text-center">
                                        <button type="button"
                                                class="infoBtn px-3 btn btn-sm hnb__btn--cancel text-nowrap disabled">
                                            已讀
                                        </button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <nav class="d-flex align-items-center justify-content-between">
                            <div class="d-flex text-nowrap">
                                <ul class="mb-0 pagination pagination-sm">
                                    <li class="page--item hnb__page--item disabled">
                                        <a class="page-link">第一頁</a>
                                    </li>
                                    <li class="page--item hnb__page--item disabled">
                                        <a class="page-link">
                                            <span class="mdi mdi-chevron-left"></span>
                                        </a>
                                    </li>
                                    <li class="page--item hnb__page--item active"><a class="page-link" href="#">1</a></li>
                                    <li class="page--item hnb__page--item"><a class="page-link" href="#">2</a></li>
                                    <li class="page--item hnb__page--item"><a class="page-link" href="#">3</a></li>
                                    <li class="page--item hnb__page--item"><a class="page-link" href="#">4</a></li>
                                    <li class="page--item hnb__page--item"><a class="page-link" href="#">5</a></li>
                                    <li class="page--item hnb__page--item">
                                        <a class="page-link" href="#">
                                            <span class="mdi mdi-chevron-right"></span>
                                        </a>
                                    </li>
                                    <li class="page--item hnb__page--item">
                                        <a class="page-link" href="#">最後一頁</a>
                                    </li>
                                </ul>
                                <div class="input-group input-group-sm ms-2 text-nowrap page-width">
                                    <span class="input-group-text" id="inputGroup-sizing-sm">第</span>
                                    <input type="text" class="form-control" value="">
                                    <span class="input-group-text" id="inputGroup-sizing-sm">頁</span>
                                    <button class="btn hnb__btn--default" type="button" id="button-addon2">前往</button>
                                </div>
                            </div>
                            <div>
                                <span class="hnb__text--red">總筆數：</span>100 / <span class="hnb__text--red">總頁數：</span>20
                            </div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
        <div class="tab-pane fade" id="info04" role="tabpanel" aria-labelledby="info04-tab">
            <div class="card rounded-0 rounded-bottom">
                <div class="card-body bg-light">
                    <div class="mb-2 align-items-center d-flex justify-content-between">
                        <h5 class="mb-0 py-1 fs-6 fw-bolder hnb__title">
                            押匯作業
                        </h5>
                    </div>
                    <div class="table-responsive">
                        <table class="table table-striped table-sm hnb__table hnb__bg--white">
                            <thead>
                                <tr>
                                    <th scope="col" class="hnb__tbhd" style="width: 80px">
                                        <button type="button"
                                                class="editItem my-1 px-3 btn btn-sm hnb__btn--select shadow-sm text-nowrap">
                                            刪除
                                        </button>
                                        <div>
                                            <input class="form-check-input" type="checkbox" value="" id="checkAll">
                                        </div>
                                    </th>
                                    <th scope="col" class="hnb__tbhd w-25">主旨</th>
                                    <th scope="col" class="hnb__tbhd">訊息內容</th>
                                    <th scope="col" class="hnb__tbhd w-15">訊息時間</th>
                                    <th scope="col" class="hnb__tbhd w-15">
                                        <div class="mb-1">已讀</div>
                                        <button type="button"
                                                class="editItem my-1 px-3 btn btn-sm hnb__btn--select shadow-sm text-nowrap">
                                            全部已讀
                                        </button>
                                    </th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="text-center">
                                        <input class="form-check-input" type="checkbox" value="" id="check031">
                                    </td>
                                    <td>押匯審核通知</td>
                                    <td>114年2月7日客戶多樂股份有限公司完成開立國內信用狀1筆(LC_TEST_2025020701)</td>
                                    <td class="text-center">2025/02/07</td>
                                    <td class="text-center">
                                        <button type="button" class="infoBtn px-3 btn btn-sm hnb__btn--default text-nowrap">讀取</button>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="text-center">
                                        <input class="form-check-input" type="checkbox" value="" id="check032">
                                    </td>
                                    <td>押匯審核通知</td>
                                    <td>114年2月7日客戶多樂股份有限公司提出國內信用狀開狀申請1筆(CDSD114000011)</td>
                                    <td class="text-center">2025/02/07</td>
                                    <td class="text-center">
                                        <button type="button" class="infoBtn px-3 btn btn-sm hnb__btn--default text-nowrap">讀取</button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <nav class="d-flex align-items-center justify-content-between">
                            <div class="d-flex text-nowrap">
                                <ul class="mb-0 pagination pagination-sm">
                                    <li class="page--item hnb__page--item disabled">
                                        <a class="page-link">第一頁</a>
                                    </li>
                                    <li class="page--item hnb__page--item disabled">
                                        <a class="page-link">
                                            <span class="mdi mdi-chevron-left"></span>
                                        </a>
                                    </li>
                                    <li class="page--item hnb__page--item active"><a class="page-link" href="#">1</a></li>
                                    <li class="page--item hnb__page--item"><a class="page-link" href="#">2</a></li>
                                    <li class="page--item hnb__page--item"><a class="page-link" href="#">3</a></li>
                                    <li class="page--item hnb__page--item"><a class="page-link" href="#">4</a></li>
                                    <li class="page--item hnb__page--item"><a class="page-link" href="#">5</a></li>
                                    <li class="page--item hnb__page--item">
                                        <a class="page-link" href="#">
                                            <span class="mdi mdi-chevron-right"></span>
                                        </a>
                                    </li>
                                    <li class="page--item hnb__page--item">
                                        <a class="page-link" href="#">最後一頁</a>
                                    </li>
                                </ul>
                                <div class="input-group input-group-sm ms-2 text-nowrap page-width">
                                    <span class="input-group-text" id="inputGroup-sizing-sm">第</span>
                                    <input type="text" class="form-control" value="">
                                    <span class="input-group-text" id="inputGroup-sizing-sm">頁</span>
                                    <button class="btn hnb__btn--default" type="button" id="button-addon2">前往</button>
                                </div>
                            </div>
                            <div>
                                <span class="hnb__text--red">總筆數：</span>100 / <span class="hnb__text--red">總頁數：</span>20
                            </div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- infoDelModal -->
<div class="modal fade" id="infoDelModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
     aria-labelledby="infoDelModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content hnb__modal">
            <div class="modal-body bg-light">
                <p class="mb-2 py-3 fs-5 fw-bolder text-center">
                    確認刪除所選取的資料?
                </p>
            </div>
            <div class="modal-footer justify-content-center border-top-0">
                <button type="button" class="px-3 btn border-1 hnb__btn--cancel" data-bs-dismiss="modal">取消</button>
                <button type="button" id="modalDelConfirm" class="px-3 btn border-1 hnb__btn--confirm">確認</button>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <!-- 查詢訊息匣資料 -->
    <script src="../assets/js/page.js"></script>
    <script src="../assets/js/bootstrap.bundle.min.js"></script>
    <script src="../assets/js/jquery-3.7.1.js"></script>
    <script>
        // modalConfirm button Handler
        const infoDelModal = document.querySelector('#infoDelModal');
        const modalDelConfirm = document.querySelector('#modalDelConfirm');
        modalDelConfirm.addEventListener('click', () => {
          $(infoDelModal).modal('hide');
        });

        // 已讀 infoBtn
        const infoBtnList = document.querySelectorAll('.infoBtn');
        infoBtnList.forEach(item => {
          item.addEventListener('click', (e) => {
            e.preventDefault();
            if (!e.target.classList.contains('disabled')) {
              e.target.innerText = '已讀';
              e.target.classList.replace('hnb__btn--default', 'hnb__btn--cancel');
              e.target.classList.add('disabled');
            }
          });
        });

        function processHandler(menu, subMenu) {
          const tabItem = window.parent.document.querySelector(`button[data-bs-target="#${menu}"]`);
          const tabContent = window.parent.document.querySelector(`#${menu}`);
          const subTab = window.parent.document.querySelector(`#${subMenu}`);
          const parentNode = window.parent.document.querySelector('#main-content');
          if (tabItem) {
            // 初始化 Accordion
            window.parent.clearAccordionAction();
            if (tabItem) {
              tabItem.classList.add('collapsed');
              tabContent.classList.add('show');
            };

            // 初始化選項 active，再指定項目
            window.parent.clearAction();
            subTab.classList.add('active');
            parentNode.src = `./pages/${menu}/${subMenu}.html`;
          };
        };
    </script>
}